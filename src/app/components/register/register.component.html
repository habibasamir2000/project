<section class="w-75 mx-auto bg-main-light shadow rounded my-3 p-4">
    <h1>Register Now:</h1>
    <form [formGroup]="registerForm" (ngSubmit)="handelForm()">
        <div class="form-item">
            <label for="name">name:</label>
            <input #inputName type="text" name="name" id="name" class="form-control" formControlName="name">
            <div *ngIf="registerForm.get('name')?.errors && (registerForm.get('name')?.touched||inputName.value.length > 0)" 
            class="alert alert-danger p-1">
                <p class="mb-0" *ngIf="registerForm.get('name')?.getError('required')" >Name is Required</p>
                <p class="mb-0" *ngIf="registerForm.get('name')?.getError('minlength')">Name Min Length 3</p>
                <p class="mb-0" *ngIf="registerForm.get('name')?.getError('maxlength')">Name Max length 20</p>
            </div>
        </div>
        <div class="form-item">
            <label for="email">email:</label>
            <input #inputEmail type="email" name="email" id="email" class="form-control"formControlName="email" >

            <div *ngIf="registerForm.get('email')?.errors && (registerForm.get('email')?.touched|| inputEmail.value.length > 0)" class="alert alert-danger p-1">
                <p class="mb-0" *ngIf="registerForm.get('email')?.getError('required')" >email is Required</p>
                <p class="mb-0" *ngIf="registerForm.get('email')?.getError('email')">email InValid Format</p>
            </div>
        </div>
        <div class="form-item">
            <label for="password">password:</label>
            <input #inputPassword type="password" name="password" id="password" class="form-control"formControlName="password" >

            <div *ngIf="registerForm.get('password')?.errors && (registerForm.get('password')?.touched || inputPassword.value.length > 0)" class="alert alert-danger p-1">
                <p class="mb-0" *ngIf="registerForm.get('password')?.getError('required')" >password is Required</p>
                <p class="mb-0" *ngIf="registerForm.get('password')?.getError('pattern')">must be at least 6 chars</p>
            </div>
        </div>
        <div class="form-item">
            <label for="rePassword">rePassword:</label>
            <input #inputRePassword type="password" name="rePassword" id="rePassword" class="form-control"formControlName="rePassword" >

            <div *ngIf="registerForm.get('rePassword')?.errors && (registerForm.get('rePassword')?.touched || inputRePassword.value.length > 0)" class="alert alert-danger p-1">
                <p class="mb-0" *ngIf="registerForm.get('rePassword')?.getError('required')" >rePassword is Required</p>
                <p class="mb-0" *ngIf="registerForm.get('rePassword')?.getError('mismatch')">Password confirmation is incorrect</p>
            </div>
        </div>
        <div class="form-item">
            <label for="phone">phone:</label>
            <input #inputPhone type="tel" name="phone" id="phone" class="form-control"formControlName="phone" >
            <div *ngIf="registerForm.get('phone')?.errors && (registerForm.get('phone')?.touched || inputPhone.value.length > 0)" class="alert alert-danger p-1">
                <p class="mb-0" *ngIf="registerForm.get('phone')?.getError('required')" >phone is Required</p>
                <p class="mb-0" *ngIf="registerForm.get('phone')?.getError('pattern')">accept only egypt phone numbers</p>
            </div>
        </div>
       <button [disabled]="registerForm.invalid" class="btn-main mt-2 d-block ms-auto">
        Register <span *ngIf="isLoading"><i class="fas fa-spin fa-spinner"></i></span>
      </button>
    </form>
    <p *ngIf="errMsg" class="alert alert-danger mx-auto p-1 w-50 mb-0 text-center">{{errMsg}}</p>
</section>
